{% extends 'base.html' %}

{% block header %}
<p>
    <a href="//architect.io" target="blank">
        <img
            src="https://cdn.architect.io/logo/horizontal.png"
            width="320"
            alt="Architect Logo"
        />
    </a>
</p>
{% endblock %}

{% block nextsteps %}
<div class="card">
    <div class="card-container">
        <div id="card-header">
            <h4><b>Congratulations!</b></h4>
        </div>
        <div class="card-content">
            <p>You've deployed your app locally. Now what?</p>
            <ul>
                <li>Check out Hot-reloading</li>
                    <ul>
                        <li>Go to <kbd class="cmp_input">django/templates/base.html</kbd> in your project folder and open it.</li>
                        <li>Update the subtitle <kbd class="cmp_input">“Favorite Movies”</kbd> to <kbd class="cmp_input">“&lt;Your name&gt;’s Favorite Movies”</kbd></li>
                        <li>The app will automatically apply the new changes when the page refreshes!</li>
                        <li>For additional information, check out our <a target={"_blank"} href="https://docs.architect.io/">docs</a>.</li>
                    </ul>
                <li>Deploy your app to the cloud via Architect</li>
                    <ul>
                        <li>Create an account at <a target={"_blank"} href="https://cloud.architect.io/signup">architect.io</a></li>
                        <li>Login from the CLI via <kbd class="cmp_input">architect login</kbd></li>
                        <li>Register all your components created from the <kbd class="cmp_input">init</kbd> command by running <kbd class="cmp_input"> architect register</kbd> in both the front-end folder and back-end folder</li>
                        <li>Go to the components page and deploy the app!</li>
                    </ul>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block user_input %}
{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}
<form action="" method="post">
    {% csrf_token %}
    <div class="user_inputs">
        <label for="formName" 
            class="form-label">
            Movie Title
        </label>
        <input 
            placeholder="Movie Title" 
            type="text" 
            id="formName" 
            name="formName"
            class="form-control" 
            value=""
            maxlength="80">
    </div>
    <div class="user_inputs">
        <label for="formRating" 
            class="form-label">
            Rating
        </label>
        <input 
            placeholder="Rating 1-5" 
            type="number" 
            id="formRating" 
            name="formRating"
            class="form-control" 
            value=""
            min="1"
            max="5">
    </div>
    <div class="d-grid gap-2">
        <button type="submit">
            Submit
        </button>
    </div>
</form>
{% endblock %}

{% block user_table %}
{% if movies_exist %}
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Name</th>
            <th>Rating</th>
        </tr>
    </thead>
    <tbody>
        {% for movie in movies_exist %}
        <tr>
            <td>{{movie.name}}</td>
            <td>{{movie.rating}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No entries found</p>
{% endif %}
{% endblock %}
