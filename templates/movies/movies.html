{% extends 'base.html' %}

{% block header %}
  <p>
    <a href="//architect.io" target="blank">
      <img
        src="https://cdn.architect.io/logo/horizontal.png"
        width="320"
        alt="Architect Logo"
      />
    </a>
  </p>
{% endblock %}

{% block next_steps %}
  <div class="card">
    <div class="card-container">
      <div id="card-header">
        <h4><b>Congratulations!</b></h4>
      </div>
      <div className="card-content">
        <p>You've deployed your app locally. Now what?</p>
        <p>Below are additional steps you can try out with your newly deployed <a target="_blank" rel="noreferrer" href='https://docs.architect.io/tutorial/create-component/'>component</a>.</p>
        <ul>
          <li>Check out Hot-reloading</li>
          <ol>
            <li>Go to <kbd class='cmp_input'>django/templates/base.html</kbd> in your project folder and open it.</li>
            <li>Uncomment lines 20 and 21 to show two new blocks, and save the file.</li>
            <li>Refresh the page to show the new changes! For more info, checkout out our <a target="_blank" rel="noreferrer" href="https://docs.architect.io/">docs</a>.</li>
          </ol>
          <br/>
          <li>Deploy your app to the cloud via Architect <b>(Recommended)</b></li>
          <ol>
            <li>Login or register a new Architect account for free at <a target="_blank" rel="noreferrer" href="https://cloud.architect.io/signup">architect.io</a></li>
            <li>Authenticate using the CLI by running the command <kbd class='cmp_input'>architect login</kbd></li>
            <li>Deploy your app to the cloud using the command <kbd class='cmp_input'>architect deploy</kbd></li>
          </ol>
        </ul>
      </div>
    </div>
  </div>
{% endblock %}

{% block movie_input %}
  {% if messages %}
    <ul class="messages">
      {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
  <form action="/" method="post">
    {% csrf_token %}
    <div class="user_inputs">
      <label for="movie_name"
        class="form-label">
        Movie Title
      </label>
      <input
        placeholder="Movie Title"
        type="text"
        id="movie_name"
        name="movie_name"
        class="form-control"
        value=""
        maxlength="80">
    </div>
    <div class="user_inputs">
      <label for="movie_rating"
        class="form-label">
        Rating
      </label>
      <input
        placeholder="Rating 1-5"
        type="number"
        id="movie_rating"
        name="movie_rating"
        class="form-control"
        value=""
        min="1"
        max="5">
    </div>
    <div class="d-grid gap-2">
      <button type="submit">
        Submit
      </button>
    </div>
  </form>
{% endblock %}

{% block movie_table %}
  {% if movies %}
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Name</th>
          <th>Rating</th>
        </tr>
      </thead>
      <tbody>
        {% for movie in movies %}
          <tr>
            <td>{{ movie.name }}</td>
            <td>{{ movie.rating }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No entries found</p>
  {% endif %}
{% endblock %}
